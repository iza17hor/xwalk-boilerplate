import"../__chunks__/icon.6HWMj7N2.js";import{m as y}from"../__chunks__/index.module.DQI0LCqS.js";import{i as k}from"../__chunks__/isSidekickLibraryActive.U-fJCMMj.js";import{t as C,l as f,g as T,a as D,b as A,c as R,d as B,e as U,f as x}from"../__chunks__/loadBlock.CiHl7HW5.js";import{g as w}from"../__chunks__/getMetadata.C2EoXxjz.js";import"../__chunks__/preload-helper.DX1wzJSG.js";import"../__chunks__/lit-element.BYUc91cE.js";import"../__chunks__/unsafe-html.CzzwY3gx.js";const L=(t,e)=>{e.split(",").forEach(a=>{t.classList.add(C(a.trim()))})};function v(){const t=w("template");t&&L(document.body,t);const e=w("theme");e&&L(document.body,e)}function M(t){return t.trim()===""?void 0:t}function _(){const t=w("language");document.documentElement.lang=M(t)||"en"}function q(){return k()?window.parent.location:window.location}const u={mainTsPath:"./src/main.ts",mainScssPath:"./src/styles/sass/main.scss",iconsDirPath:"./public/icons",iconsTypesPath:"./src/types/icons.types.ts",fontsScssPath:"./src/styles/sass/fonts.scss",fontsCssPath:"./dist/fonts/fonts.css",lazyStylesScssPath:"./src/styles/sass/lazy-styles.scss",lazyStylesCssPath:"./dist/lazyStyles/lazyStyles.css",sidekickLibraryStylesScssPath:"./src/styles/sass/sidekick-library-styles.scss",sidekickLibraryStylesCssPath:"./dist/sidekickLibraryStyles/sidekickLibraryStyles.css",editorTsPath:"./src/app/editor/editor-support.ts",lcpBlocks:[]};async function g(){const{fontsCssPath:t}=u;if(t){await f(t);try{q().hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch(e){y.error("loadFonts: Error setting fonts-loaded in session storage",e)}}}function i(t,e){const a=()=>window.performance?window.performance.now():Date.now()-window.hlx.rum.firstReadTime;try{if(window.hlx=window.hlx||{},i.enhance=()=>{},!window.hlx.rum){const s=window.SAMPLE_PAGEVIEWS_AT_RATE==="high"&&10||window.SAMPLE_PAGEVIEWS_AT_RATE==="low"&&1e3||new URLSearchParams(window.location.search).get("rum")==="on"&&1||100,n=Math.random().toString(36).slice(-4),c=Math.random()*s<1;if(window.hlx.rum={weight:s,id:n,isSelected:c,firstReadTime:window.performance?window.performance.timeOrigin:Date.now(),sampleRUM:i,queue:[],collector:(...d)=>window.hlx.rum.queue.push(d)},c){const d=o=>{const r={source:"undefined error"};try{r.target=o.toString(),r.source=o.stack.split(`
`).filter(l=>l.match(/https?:\/\//)).shift().replace(/at ([^ ]+) \((.+)\)/,"$1@$2").replace(/ at /,"@").trim()}catch{}return r};window.addEventListener("error",({error:o})=>{const r=d(o);i("error",r)}),window.addEventListener("unhandledrejection",({reason:o})=>{let r={source:"Unhandled Rejection",target:o||"Unknown"};o instanceof Error&&(r=d(o)),i("error",r)}),i.baseURL=i.baseURL||new URL(window.RUM_BASE||"/",new URL("https://rum.hlx.page")),i.collectBaseURL=i.collectBaseURL||i.baseURL,i.sendPing=(o,r,l={})=>{const m=JSON.stringify({weight:s,id:n,referer:window.location.href,checkpoint:o,t:r,...l}),{href:S,origin:E}=new URL(`.rum/${s}`,i.collectBaseURL),z=E===window.location.origin?new Blob([m],{type:"application/json"}):m;navigator.sendBeacon(S,z),console.debug(`ping:${o}`,l)},i.sendPing("top",a()),i.enhance=()=>{const o=document.createElement("script");o.src=new URL(".rum/@adobe/helix-rum-enhancer@^2/src/index.js",i.baseURL).href,document.head.appendChild(o)},window.hlx.RUM_MANUAL_ENHANCE||i.enhance()}}window.hlx.rum&&window.hlx.rum.isSelected&&t&&window.hlx.rum.collector(t,e,a()),document.dispatchEvent(new CustomEvent("rum",{detail:{checkpoint:t,data:e}}))}catch{}}function I(t){const e=[];return t.querySelectorAll("[data-block-name]").forEach(s=>{e.push(T(s))}),e}function b(t){t.style.removeProperty("display")}async function N(){const t=document.querySelector(".section"),{lcpBlocks:e}=u;if(t){const n=I(t).map(async c=>{(e==null?void 0:e.includes(c.name))&&await Promise.all([D(c.element),A(c.element)])});await Promise.all(n),b(t)}document.body.style.display=null;const a=document.querySelector("main img");await new Promise(s=>{a&&!a.complete?(a.setAttribute("loading","eager"),a.setAttribute("fetchpriority","high"),a.addEventListener("load",()=>s()),a.addEventListener("error",()=>s())):s()})}async function j(t,e){const a=t.dataset.sectionStatus;if(!a||a==="initialized"){t.dataset.sectionStatus="loading";const s=[...t.querySelectorAll("div.block")];for(let n=0;n<s.length;n+=1)await R(s[n]);t.dataset.sectionStatus="loaded",b(t)}}async function H(t){if(!t)return;const e=[...t.querySelectorAll("div.section")];for(let a=0;a<e.length;a+=1)await j(e[a]),b(e[a])}function $(t="/dist/main/main.js"){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.RUM_MANUAL_ENHANCE=!0,window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const e=document.querySelector(`script[src$="${t}"]`);if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split(t)}catch(a){y.log("setupHlxObj: Could not set codeBasePath.",a)}}class O{constructor(){this.beforeEagerCallbacks=[],this.loadEagerCallbacks=[],this.beforeLoadLazyCallbacks=[],this.loadLazyCallbacks=[],this.beforeLoadDelayedCallbacks=[],this.loadDelayedCallbacks=[],this.initializedCallbacks=[]}get beforeEager(){return this.beforeEagerPromise===void 0&&(this.beforeEagerPromise=this.beforeLoadEager()),this.beforeEagerPromise}get loadEager(){return this.eagerPromise===void 0&&(this.eagerPromise=this.loadEagerPromise()),this.eagerPromise}get beforeLoadLazy(){return this.beforeLazyPromise===void 0&&(this.beforeLazyPromise=this.beforeLoadLazyPromise()),this.beforeLazyPromise}get loadLazy(){return this.lazyPromise===void 0&&(this.lazyPromise=this.loadLazyPromise()),this.lazyPromise}get beforeLoadDelayed(){return this.beforeDelayedPromise===void 0&&(this.beforeDelayedPromise=this.beforeLoadDelayedPromise()),this.beforeDelayedPromise}get loadDelayed(){return this.delayedPromise===void 0&&(this.delayedPromise=this.loadDelayedPromise()),this.delayedPromise}get initialized(){return this.initializedPromise===void 0&&(this.initializedPromise=this.getInitializedPromise()),this.initializedPromise}addBeforeEagerTask(e){this.beforeEagerCallbacks.push(e)}addLoadEagerTask(e){this.loadEagerCallbacks.push(e)}addBeforeLoadLazyTask(e){this.beforeLoadLazyCallbacks.push(e)}addLoadLazyTask(e){this.loadLazyCallbacks.push(e)}addBeforeLoadDelayedTask(e){this.beforeLoadDelayedCallbacks.push(e)}addLoadDelayedTask(e){this.loadDelayedCallbacks.push(e)}addInitializedTask(e){this.initializedCallbacks.push(e)}async init(){await this.beforeEager,await this.loadEager,await this.beforeLoadLazy,await this.loadLazy,await this.beforeLoadDelayed,await this.loadDelayed,await this.initialized}async beforeLoadEager(){const e=new Promise(a=>{$(),i(),v(),_(),a()});await Promise.all([...this.beforeEagerCallbacks.map(a=>a()),e])}async loadEagerPromise(){const e=new Promise(async a=>{try{const s=document.querySelector("main");B(s),U(s),x(s),setTimeout(()=>{document.body.classList.add("show"),a()},100),i.enhance(),(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&await g()}catch(s){y.error("index: could not load fonts",s)}});await Promise.all([...this.loadEagerCallbacks.map(a=>a()),e,N()])}async beforeLoadLazyPromise(){const e=new Promise(a=>a());await Promise.all([...this.beforeLoadLazyCallbacks.map(a=>a()),e])}async loadLazyPromise(){const e=new Promise(async a=>{try{const{lazyStylesScssPath:s,sidekickLibraryStylesScssPath:n,fontsScssPath:c,lazyStylesCssPath:d,sidekickLibraryStylesCssPath:o}=u,r=document.querySelector("main");await H(r);const{hash:l}=window.location,m=l?document.getElementById(l.substring(1)):!1;l&&m&&m.scrollIntoView(),s&&d&&await f(d),n&&o&&k()&&await f(o),c&&await g()}catch(s){y.error("LoadLazyTask: ",s)}a()});await Promise.all([...this.loadLazyCallbacks.map(a=>a()),e])}async beforeLoadDelayedPromise(){const e=new Promise(a=>a());await Promise.all([...this.beforeLoadDelayedCallbacks.map(a=>a()),e])}async loadDelayedPromise(){const e=new Promise(a=>{setTimeout(()=>{a()},3e3)});await Promise.all([...this.loadDelayedCallbacks.map(a=>a()),e])}async getInitializedPromise(){const e=new Promise(a=>a());await Promise.all([...this.initializedCallbacks.map(a=>a()),e])}}const P=new O,h={interactive:"interactive",complete:"complete"};async function p(){P.addBeforeEagerTask(()=>(document.getElementsByTagName("main")[0].setAttribute("id","main"),Promise.resolve())),await P.init()}function F(){document.readyState===h.interactive||document.readyState===h.complete?p():document.addEventListener("readystatechange",()=>{const t=document.readyState;(t===h.interactive||t===h.complete)&&p()})}F();
//# sourceMappingURL=main.js.map
